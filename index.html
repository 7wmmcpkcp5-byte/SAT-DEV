<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<title>SAT PRO MASTER - v2.0</title>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.css">
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/katex.min.js"></script>
<script defer src="https://cdn.jsdelivr.net/npm/katex@0.16.9/dist/contrib/auto-render.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=JetBrains+Mono:wght@500&display=swap" rel="stylesheet">

<style>
    :root {
        --bg-deep: #030014;
        --bg-panel: #0f172a;
        --primary: #6366f1; /* Indigo */
        --accent: #d946ef; /* Fuchsia */
        --success: #10b981;
        --cyan: #06b6d4;
        --text: #f8fafc;
        --text-mute: #64748b;
        
        --glass: rgba(15, 23, 42, 0.6);
        --glass-border: rgba(255, 255, 255, 0.08);
        --glow: 0 0 20px rgba(99, 102, 241, 0.15);
    }

    * {margin:0;padding:0;box-sizing:border-box; -webkit-tap-highlight-color: transparent;}

    body {
        font-family: 'Inter', sans-serif;
        background-color: var(--bg-deep);
        background-image: 
            radial-gradient(at 0% 0%, rgba(99,102,241,0.15) 0px, transparent 50%),
            radial-gradient(at 100% 100%, rgba(217,70,239,0.1) 0px, transparent 50%);
        color: var(--text);
        min-height: 100vh;
        padding-bottom: 90px;
    }

    .app { max-width: 440px; margin: 0 auto; padding: 1rem; position: relative; }

    /* --- NEW HEADER --- */
    header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem;
        padding: 0.5rem 0.2rem;
    }

    .brand h1 {
        font-size: 1.2rem;
        font-weight: 800;
        letter-spacing: -0.5px;
        background: linear-gradient(to right, #fff, var(--text-mute));
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
    }
    
    .brand p { font-size: 0.6rem; color: var(--accent); font-weight: 600; letter-spacing: 1px; text-transform: uppercase; }

    .streak-badge {
        background: rgba(255, 100, 50, 0.1);
        border: 1px solid rgba(255, 100, 50, 0.3);
        padding: 0.3rem 0.8rem;
        border-radius: 20px;
        display: flex;
        align-items: center;
        gap: 6px;
        font-size: 0.75rem;
        color: #ff8a65;
        font-weight: 700;
    }

    /* --- RADAR CHART CONTAINER --- */
    .radar-container {
        position: relative;
        width: 100%;
        height: 240px;
        display: flex;
        justify-content: center;
        align-items: center;
        margin-bottom: 1.5rem;
    }
    
    canvas#skillRadar {
        width: 100%;
        height: 100%;
        max-width: 300px;
        filter: drop-shadow(0 0 10px rgba(99,102,241,0.3));
    }

    .chart-label {
        position: absolute;
        font-size: 0.65rem;
        color: var(--text-mute);
        text-transform: uppercase;
        font-weight: 600;
    }

    /* --- GLASS CARDS --- */
    .card {
        background: var(--glass);
        backdrop-filter: blur(12px);
        -webkit-backdrop-filter: blur(12px);
        border: 1px solid var(--glass-border);
        border-radius: 24px;
        padding: 1.2rem;
        margin-bottom: 1rem;
        box-shadow: 0 4px 30px rgba(0, 0, 0, 0.2);
        transition: transform 0.2s;
    }
    
    .card:active { transform: scale(0.98); }

    .card h3 { font-size: 0.9rem; color: var(--text-mute); margin-bottom: 0.8rem; font-weight: 600; text-transform: uppercase; letter-spacing: 0.5px; }

    /* --- HEATMAP --- */
    .heatmap {
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        gap: 6px;
    }
    
    .heat-box {
        aspect-ratio: 1;
        background: rgba(255,255,255,0.03);
        border-radius: 6px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.6rem;
        color: var(--text-mute);
    }
    
    .heat-box.l1 { background: rgba(99, 102, 241, 0.3); box-shadow: 0 0 5px var(--primary); color: #fff; }
    .heat-box.l2 { background: rgba(217, 70, 239, 0.6); box-shadow: 0 0 10px var(--accent); color: #fff; }

    /* --- ACTION GRID --- */
    .action-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 1rem;
    }

    .action-btn {
        background: linear-gradient(145deg, rgba(255,255,255,0.05), rgba(255,255,255,0.01));
        border: 1px solid var(--glass-border);
        padding: 1.5rem 1rem;
        border-radius: 20px;
        text-align: center;
        cursor: pointer;
    }
    
    .action-btn h4 { font-size: 1.1rem; margin-bottom: 0.3rem; }
    .action-btn span { font-size: 0.7rem; color: var(--cyan); }

    .btn-primary-glow {
        background: linear-gradient(135deg, var(--primary), var(--accent));
        box-shadow: 0 0 25px rgba(99, 102, 241, 0.4);
        border: none;
    }

    /* --- QUIZ UI --- */
    .quiz-timer-ring {
        width: 100%;
        height: 4px;
        background: #1e293b;
        border-radius: 2px;
        margin-bottom: 1.5rem;
        overflow: hidden;
    }
    .timer-fill {
        height: 100%;
        background: var(--cyan);
        width: 100%;
        transition: width 1s linear;
        box-shadow: 0 0 10px var(--cyan);
    }

    .option {
        background: rgba(255,255,255,0.03);
        border: 1px solid var(--glass-border);
        padding: 1.1rem;
        border-radius: 16px;
        margin-bottom: 0.8rem;
        transition: 0.2s;
        font-size: 0.95rem;
    }
    
    .option.selected { border-color: var(--primary); background: rgba(99, 102, 241, 0.1); }
    .option.correct { border-color: var(--success); background: rgba(16, 185, 129, 0.2); }
    .option.incorrect { border-color: #ef4444; background: rgba(239, 68, 68, 0.2); }

    /* --- BOTTOM NAV (FLOATING) --- */
    .nav-float {
        position: fixed;
        bottom: 1.5rem;
        left: 50%;
        transform: translateX(-50%);
        width: 90%;
        max-width: 400px;
        background: rgba(3, 0, 20, 0.85);
        backdrop-filter: blur(20px);
        border: 1px solid var(--glass-border);
        border-radius: 30px;
        padding: 0.8rem;
        display: flex;
        justify-content: space-around;
        box-shadow: 0 10px 40px -10px rgba(0,0,0,0.5);
        z-index: 100;
    }

    .nav-icon {
        color: var(--text-mute);
        font-size: 0.7rem;
        font-weight: 600;
        text-align: center;
        opacity: 0.7;
        transition: 0.2s;
    }
    
    .nav-icon.active { color: #fff; opacity: 1; text-shadow: 0 0 10px rgba(255,255,255,0.5); }
    .nav-dot { width: 4px; height: 4px; background: var(--accent); border-radius: 50%; margin: 4px auto 0; opacity: 0; }
    .nav-icon.active .nav-dot { opacity: 1; }

    section { display: none; animation: slideUp 0.4s cubic-bezier(0.16, 1, 0.3, 1); }
    section.active { display: block; }

    @keyframes slideUp {
        from { opacity: 0; transform: translateY(20px); }
        to { opacity: 1; transform: translateY(0); }
    }
</style>
</head>

<body>

<div class="app">

    <header>
        <div class="brand">
            <h1>SAT PRO <span style="color:var(--cyan)">//</span> NEO</h1>
            <p>Generated by Gemini ‚Ä¢ v2.0</p>
        </div>
        <div class="streak-badge">
            <span>üî•</span> <span id="streak-val">3</span> Days
        </div>
    </header>

    <section id="dashboard" class="active">
        
        <div class="radar-container">
            <canvas id="skillRadar" width="300" height="240"></canvas>
            <div class="chart-label" style="top: 10px;">Algebra</div>
            <div class="chart-label" style="bottom: 20px; left: 10px;">Geom</div>
            <div class="chart-label" style="bottom: 20px; right: 10px;">Data</div>
            <div class="chart-label" style="top: 90px; right: -5px;">Arith</div>
            <div class="chart-label" style="top: 90px; left: -5px;">Func</div>
        </div>

        <div class="card">
            <h3>Study Intensity</h3>
            <div class="heatmap" id="heatmap-grid">
                </div>
        </div>

        <div class="action-grid">
            <div class="action-btn btn-primary-glow" onclick="app.startSession('math')">
                <h4>Start Math</h4>
                <span>+25 XP</span>
            </div>
            <div class="action-btn" onclick="app.startSession('reading')">
                <h4>Reading</h4>
                <span>Coming Soon</span>
            </div>
        </div>

    </section>

    <section id="quiz">
        <div style="display:flex; justify-content:space-between; margin-bottom:10px; font-family:'JetBrains Mono', monospace; font-size:0.8rem; color:var(--cyan);">
            <span id="q-progress">01 / 05</span>
            <span>XP BOOST ACTIVE</span>
        </div>
        
        <div class="quiz-timer-ring"><div class="timer-fill" id="timer-bar"></div></div>
        
        <div class="card" style="min-height: 200px; display:flex; align-items:center;">
            <p id="q-text" style="font-size:1.1rem; line-height:1.6; font-weight:500;">Loading...</p>
        </div>

        <div id="options-list">
            </div>

        <button onclick="app.showDashboard()" style="background:transparent; border:none; color:var(--text-mute); font-size:0.8rem; margin-top:20px; width:100%;">Quit Session</button>
    </section>

    <nav class="nav-float">
        <div class="nav-icon active" onclick="app.nav('dashboard', this)">
            DASHBOARD
            <div class="nav-dot"></div>
        </div>
        <div class="nav-icon" onclick="app.nav('quiz', this)">
            FOCUS
            <div class="nav-dot"></div>
        </div>
        <div class="nav-icon" onclick="alert('Profile Coming Soon')">
            PROFILE
            <div class="nav-dot"></div>
        </div>
    </nav>

</div>

<script>
    class SATNeon {
        constructor() {
            this.state = {
                skills: { algebra: 60, geometry: 40, data: 30, arithmetic: 80, functions: 50 },
                streak: 3,
                heatmap: [0, 1, 1, 2, 0, 2, 1, 0, 1, 1, 2, 2, 0, 1] // 0=none, 1=low, 2=high
            };
            
            this.questions = [
                { q: "If $$2x + 6 = 12$$, what is $$x$$?", options: ["2", "3", "4", "6"], ans: 1 },
                { q: "What is the area of a circle with $$r=3$$?", options: ["3œÄ", "6œÄ", "9œÄ", "12œÄ"], ans: 2 }
            ];
            
            this.init();
        }

        init() {
            this.drawRadar();
            this.renderHeatmap();
            document.getElementById('streak-val').textContent = this.state.streak;
            
            // Loop de animaci√≥n suave para el radar
            setInterval(() => this.drawRadar(), 2000); 
        }

        nav(sectionId, el) {
            document.querySelectorAll('section').forEach(s => s.classList.remove('active'));
            document.getElementById(sectionId).classList.add('active');
            
            if(el) {
                document.querySelectorAll('.nav-icon').forEach(n => n.classList.remove('active'));
                el.classList.add('active');
            }
        }

        // --- VISUALIZACI√ìN 1: RADAR CHART (CANVAS) ---
        drawRadar() {
            const canvas = document.getElementById('skillRadar');
            const ctx = canvas.getContext('2d');
            const w = canvas.width;
            const h = canvas.height;
            const cx = w/2;
            const cy = h/2;
            const radius = 90;
            
            // Limpiar
            ctx.clearRect(0, 0, w, h);

            // Datos
            const stats = [
                this.state.skills.algebra,     // Top
                this.state.skills.data,        // Right Top
                this.state.skills.arithmetic,  // Right Bot
                this.state.skills.functions,   // Left Bot
                this.state.skills.geometry     // Left Top
            ];
            const totalPoints = 5;

            // Funci√≥n para obtener coordenadas
            const getPoint = (value, index) => {
                const angle = (Math.PI * 2 * index) / totalPoints - Math.PI / 2;
                const r = (value / 100) * radius;
                return {
                    x: cx + r * Math.cos(angle),
                    y: cy + r * Math.sin(angle)
                };
            };

            // 1. Dibujar Rejilla de fondo (Hex√°gonos conc√©ntricos)
            ctx.strokeStyle = "rgba(255,255,255,0.05)";
            ctx.lineWidth = 1;
            for(let level=1; level<=4; level++) {
                ctx.beginPath();
                for(let i=0; i<totalPoints; i++) {
                    const p = getPoint(25 * level, i);
                    if(i===0) ctx.moveTo(p.x, p.y);
                    else ctx.lineTo(p.x, p.y);
                }
                ctx.closePath();
                ctx.stroke();
            }

            // 2. Dibujar Stats del usuario
            ctx.beginPath();
            stats.forEach((val, i) => {
                const p = getPoint(val, i);
                if(i===0) ctx.moveTo(p.x, p.y);
                else ctx.lineTo(p.x, p.y);
            });
            ctx.closePath();

            // Estilos del √°rea llena
            ctx.fillStyle = "rgba(99, 102, 241, 0.25)"; // Indigo transparente
            ctx.fill();
            
            // Estilos del borde ne√≥n
            ctx.strokeStyle = "#6366f1";
            ctx.lineWidth = 2;
            ctx.shadowBlur = 15;
            ctx.shadowColor = "#6366f1";
            ctx.stroke();
            
            // Puntos en las esquinas
            ctx.fillStyle = "#fff";
            stats.forEach((val, i) => {
                const p = getPoint(val, i);
                ctx.beginPath();
                ctx.arc(p.x, p.y, 3, 0, Math.PI * 2);
                ctx.fill();
            });
            
            ctx.shadowBlur = 0; // Reset
        }

        // --- VISUALIZACI√ìN 2: HEATMAP ---
        renderHeatmap() {
            const grid = document.getElementById('heatmap-grid');
            grid.innerHTML = '';
            const days = ['M', 'T', 'W', 'T', 'F', 'S', 'S', 'M', 'T', 'W', 'T', 'F', 'S', 'S'];
            
            this.state.heatmap.forEach((val, i) => {
                const div = document.createElement('div');
                div.className = `heat-box ${val === 2 ? 'l2' : val === 1 ? 'l1' : ''}`;
                div.textContent = days[i];
                grid.appendChild(div);
            });
        }

        // --- QUIZ LOGIC ---
        startSession(type) {
            this.nav('quiz');
            // Cargar pregunta 1 (Demo)
            const q = this.questions[0];
            document.getElementById('q-text').innerHTML = q.q;
            renderMathInElement(document.getElementById('q-text'), {delimiters: [{left: '$$', right: '$$', display: false}]});
            
            const list = document.getElementById('options-list');
            list.innerHTML = '';
            q.options.forEach((opt, idx) => {
                const btn = document.createElement('div');
                btn.className = 'option';
                btn.innerHTML = opt;
                btn.onclick = () => this.check(btn, idx, q.ans);
                list.appendChild(btn);
            });
            
            // Reset Timer Animation
            const timer = document.getElementById('timer-bar');
            timer.style.width = '100%';
            setTimeout(() => timer.style.width = '0%', 100);
        }

        check(el, idx, correct) {
            if(idx === correct) {
                el.classList.add('correct');
                confetti({
                    particleCount: 80,
                    spread: 60,
                    colors: ['#6366f1', '#d946ef', '#06b6d4'],
                    origin: { y: 0.7 }
                });
                // Actualizar gr√°fica radar dummy
                this.state.skills.algebra += 5;
                this.drawRadar();
            } else {
                el.classList.add('incorrect');
            }
        }
        
        showDashboard() {
            this.nav('dashboard');
        }
    }

    // Start App
    window.app = new SATNeon();
</script>
</body>
</html>
